{% extends "layout.html.twig" %}

{% form_theme form _self %}

{% block field_errors %}
{% spaceless %}
    {% for error in errors %}
        <span class="help-inline">{{ error.messageTemplate|trans(error.messageParameters, 'validators') }}</span>
    {% endfor %}
{% endspaceless %}
{% endblock field_errors %}

{% block content %}
<div class="row">
	<div class="span8 offset4">
		<form method="post" action="{{ url('_createmember') }}" class="form-horizontal" {{ form_enctype(form) }}>
			<fieldset>
				<legend>Inscription</legend>
			    <div class="control-group {% if form.lastname.vars.errors|length %}error{% endif %}">
				    {{ form_label(form.lastname, null, { 'attr': {'class': 'control-label'} }) }}
				    <div class="controls">
				    	{{ form_widget(form.lastname) }}
				    	{{ form_errors(form.lastname) }}
			    	</div>
			    </div>
			    <div class="control-group {% if form.firstname.vars.errors|length %}error{% endif %}">
				    {{ form_label(form.firstname, null, { 'attr': {'class': 'control-label'} }) }}
				    <div class="controls">
				    	{{ form_widget(form.firstname) }}
				    	{{ form_errors(form.firstname) }}
			    	</div>
			    </div>
			    <div class="control-group {% if form.username.vars.errors|length %}error{% endif %}">
				    {{ form_label(form.username, null, { 'attr': {'class': 'control-label'} }) }}
				    <div class="controls">
				    	{{ form_widget(form.username) }}
				    	{{ form_errors(form.username) }}
			    	</div>
			    </div>
			    <div class="control-group {% if form.email.vars.errors|length %}error{% endif %}">
				    {{ form_label(form.email, null, { 'attr': {'class': 'control-label'} }) }}
				    <div class="controls">
				    	<div class="input-prepend">
							<span class="add-on"><i class="icon-envelope"></i></span>
							{{ form_widget(form.email, { 'attr': {'class': 'span2'} }) }}
							{{ form_errors(form.email) }}
						</div>
			    	</div>
			    </div>
			    <div class="control-group {% if form.password.vars.errors|length %}error{% endif %}">
				    {{ form_label(form.password, null, { 'attr': {'class': 'control-label'} }) }}
				    <div class="controls">
				    	{{ form_widget(form.password) }}
				    	{{ form_errors(form.password) }}
			    	</div>
			    </div>
			    {{ form_rest(form) }}
			    <div class="form-actions">
			    	<button class="btn btn-primary" type="submit">S'inscrire</button>
					<button class="btn" type="reset">Annuler</button>
			   	</div>
			</fieldset>
		</form>
	</div>
</div>
{% endblock %}
